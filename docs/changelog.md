# Better Genshin Impact 版本更新日志

> 最后更新: 2025/8/9 16:27:52
> 数据来源: [GitHub Releases](https://github.com/babalae/better-genshin-impact/releases)

## 0.48 原神5.8适配、分层地图等

**版本:** `0.48.0`
**发布时间:** 2025/8/8 00:36:46
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.48.0)

### 更新内容

```
## 5.8 适配性优化
- 5.8新角色识别
- 5.8地图特征更新
- 5.6-5.8新增传��点 @MisakaAldrich
- 5.8七圣元数据更新 @haokaiyang
- **自动幽境危战适配5.8，并加入一条龙中（注意当前无需在开启钥匙后的界面上启动本功能！）**

## OCR 相关
- **OCR模型更新至 PaddleOcrV5** (#1966) @Takaranoao
- 强制OCR使用CPU的功能默认关闭
- CUDA目录嗅探默认关闭&尝试修复在奇奇怪怪权限的环境下嗅探CUDA目录导致异常的问题 (#1994) @Takaranoao
- 推理引擎新增 OpenVINO 支持

## 独立任务
- 自动秘境优化进入适配限时双倍 @kaedelcb
- 新增开发用的截取物品图标独立任务 (#1856) @FishmanTheMurloc
- 自动秘境换队从在门口切换修改为在进门后切换；原粹识别优化 (#1866) @kaedelcb
- **新增独立任务自动使用兑换码，自动识别剪切板中的兑换码** (#1895)
- 检测战斗结束增加旋转寻找敌人实验性功能 (#1960) @kaedelcb
- 修复万叶长E拾取判断的CD计算错误 (#1958) @kaedelcb

## 一条龙
- 领取尘歌壶奖励优化，新增其他进入尘歌壶的方式 (#1797) @iris10086
- 修复部分场景下一条龙尘歌壶无法点击传送按钮的问题 #1782
- 检查每日领取情况前点击委托 (#1865) @kaedelcb
- 优化纪行领取

## 调度器
- 调度器-名称-添加鼠标悬浮显示文件夹 @qwecxzpoi
- 修复配置组名称前半段有同名不显示的问题 (#1858) @kaedelcb
- 调度器添加地图追踪文件时自动聚焦搜索框 (#1916) @Arkadegong
- 调度器配置中增加执行成功任务跳过执行配置 (#1893) @mfkvfhpdx
- 解决调度器为空时程序假死问题 (#1947) @Datouyu666
- 重构添加地图追踪任务页面的搜索功能，同时添加深度搜索功能。修复了搜索功能形同虚设，只能搜索最表面父文件夹的问题。 (#1980) @Datouyu666

## 地图追踪
- **实现分层地图的识别，优化视角识别算法**@Limint
- 延长换队失败的判断时间 (#1792) @ddddng
- 修改部分角色挖矿的方式 @RRRR623 @MisakaAldrich
- 脚本仓库不再使用浅克隆，修复需要重置才能更新的问题
- 降低飞行检测时间，自由落体后进入飞行再下落攻击 (#1837) @MisakaAldrich
- 修复迷烟主成员非飞行状态下四叶印识别失败的Bug，模板匹配的置信度修改为数组 @Limint
- 地图追踪接口修改成多实例，JS调用的实例和地图追踪调用的实例不同
- 修复简易策略偶发性不执行的问题 @physligl
- 删除这两个选项：是否就近七天神像恢复血量、传送到七天神像之后是否需要移动后回血
- 修复并发调用小地图识别时识别错��的Bug，修改并增加暴露给JS的小地图识别函数 (#1911) @Limint
- 修复地图追踪配置中获取材料名称的问题 (#1919) @kaedelcb
- 地图追踪版本要求修改为强制
- 优化地图追踪的距离过远判断
- 修复地图追踪中角色公转的场景，持续角度一直未在5度内时，直接强制等到转向到目标位置 #1644

## 通知
- 给telegramNotifier添加代理功能支持 (#1890) @xoipz
- 修复 webhook 通知新版本报错的问题 @wy3057
- 新增 Discord 通知 (#1903) @Small-Ku

## 其他
- 修复自动拾取黑白名单在部分场景下找不到路径的问题
- 修复自动拾取对乐器误识别的问题
- 规避 WPF 剪贴���卡顿，修复剪切不清除文本的问题 (#1839) @ABA2396
- 调度器新增JS脚本界面支持搜索 @physligl
- 调整设置游戏内时间的操作延迟 @jiegedabaobei
- 优化自动重新登录针对B服的登录框的操作，支持5.8版本的新登录框 @zaodonganqi
- JS脚本暴露获取当前小地图角度和当前队伍角色的方法 (#1874)
- 加入控制台日志输出
- 脚本仓库更新支持自定义git地址 @Takaranoao
- 一键购买尘歌壶适配 #1908 @iris10086
- 优化PromptDialog对话框布局以支持用户自由调整窗口大小 (#1953) @Datouyu666
- 调整官服退出重进参数，对高ping玩家友好一点 (#1986) @Takaranoao

🌩️ [Github 下载太慢？ 点我访问更多更新渠道](https://bettergi.com/download.html)

```

---

## 0.47 自动幽境危战

**版本:** `0.47.0`
**发布时间:** 2025/6/29 22:32:23
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.47.0)

### 更新内容

```
**新增独立任务自动幽境危战**

需要在开启钥匙的界面上启动本功能（右下角是“开启挑战”按钮），主要是难三刷取圣遗物用

<img src="https://github.com/user-attachments/assets/41184cff-5829-4e9d-ace9-72c9d51e1728" width="700"/>

## 自动拾取
* 优化文字识别功能，使用新的文字区域检测方式减少CPU消耗（**不会出现 100% CPU的情况了**）
* 默认不开启拾取白名单机制，减少无用��OCR识别
* 软件自带默认黑名单与用户配置黑名单拆分，不会再出现用户配置的黑名单被覆盖的情况了
* 配置黑白名单可实时生效
* 修复自动拾取展示文本可能缺失标点的问题
* 更新自动拾取默认黑名单列表 @RRRR623 

## 其他优化
- 优化抽屉关闭后重新开启的体验
- 一条龙页面添加自动秘境树脂选择弹窗 #1767 @kaedelcb
- 优化调度器中根据文件夹删除任务卡顿的问题 @kaedelcb
- 一条龙尘歌壶进入添加重试/UI微调/一条龙快捷键修复 #1750 #1752  @kaedelcb
- 内嵌 VC++ 运行库 14.44.35208.0，**尝试彻底解决“Unable to load DLL 'onnxruntime'or one of its dependencies: 动态链接库(DLL)初始化例程失败” 的问题**
- 缩短换队失败的判断时间 #1755 @physligl
- 修复脚本仓库更新报错 repository path ' ' is not owned by current user #1746
- 删除 “允许在jsScript脚本中使用此地图追踪配置” 和 “允许在此调度器中（一般在JS脚本中）调用自动战斗任务时，采用此追踪配置里的战斗策略” 配置。默认启用
- 脚本仓库更新添加进度展示
- 优化传送点点击的逻辑，增加退出重登的延时 (#1773) @physligl
- 将自动秘境战斗失败复活次数从常量3修改为可更改的参数 @xiaokang00010
- 日志输出优化

🌩️ [Github 下载太慢？ 点我访问更多更新渠道](https://bettergi.com/download.html)
```

---

## 0.46.2 自动秘境修复

**版本:** `0.46.2`
**发布时间:** 2025/6/22 23:24:54
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.46.2)

### 更新内容

```
主要针对 0.46.0 秘境相关问题的修复

**[点我查看 0.46.0 的更新日志](https://github.com/babalae/better-genshin-impact/releases/tag/0.46.0)**

## 0.46 版本常见问题FAQ
* 0.45 更新到 0.46 时报错存在文字：**Error: NO_HASH_ALGO_ERR: No hash algorithm specified**。
![image](https://github.com/user-attachments/assets/47b54ac1-b524-4f62-a7a0-8e2b83221cf0)


    * 解决方案：关掉后重试一次，手动运行BetterGl.update.exe（此时打开软件应该已经是最新版了）。如果还是不行，可以直接重新下载安装包安装。
* 启动程序后出现报错：**Unable to load DLL 'onnxruntime'or one of its dependencies: 动态链接库(DLL)初始化例程失败。(0x8007045A)**。 
![f4dc42c65d8902d2b1a01f08af05fa26](https://github.com/user-attachments/assets/0afdf0b9-e3b1-45ed-b0d3-3ab3f28b76e0)


    * 解决方案：请安装VC++运行库，官方下载地址： https://aka.ms/vs/17/release/vc_redist.x64.exe


## 改动
* 修复非 1080P 窗口下（2K、4K等），自动秘境无法正常使用树脂的问题
* 修复只有原粹树脂���况下，用尽树脂时无法正常退出秘境的问题
* 修复其他树脂存在，但是原粹树脂耗尽的情况下，会自动退出秘境的问题


🌩️ [Github 下载太慢？ 点我访问更多更新渠道](https://bettergi.com/download.html)


```

---

## 0.46 原神 5.7 适配

**版本:** `0.46.0`
**发布时间:** 2025/6/22 18:10:20
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.46.0)

### 更新内容

```
## 5.7 适配性改造
* 七圣新数据 @haokaiyang
* 新角色识别
* **秘境领取奖励适配，并加入能够刷取指定树脂次数的功能**

## 一条龙
* 自动秘境：添加周日材料本三种奖励选择、优化进入秘境横幅点击 @kaedelcb
* 合成浓缩树脂：添加合成浓缩后保留原粹树脂数量的功能 @kaedelcb
* 尘歌壶：优化阿园寻找的成功率，购买商品添加设置 @kaedelcb
* 部分功能优化 @kaedelcb
* 修复一条龙不设置队伍会提示配置要刷的秘境的BUG
* 修复合成台打开后，等待时间过短导致合成失败的问题 

## 地图追踪
* 通过点位配置，支持在未识别点位情况下，从大地图中心点来识别坐标。 #1526 @mfkvfhpdx
* 挖矿策略修改为只执行一个角色
* 大剑挖矿策略修改，以及移除卡齐娜 @MisakaAldrich
* 解决在回到主界面场景下卡复活界面的问题 @mfkvfhpdx 
* 战斗后自动拾取优化 @Scarlet1ssimo
* 将路径追踪相关的日志改为debug级别 (#1645) (#1684) @Patrick-Ze

## 脚本仓库
* 修改底层下载逻辑，下载源从CF更换为更多Git仓库
* 去除自动更新逻辑，改为手动更新，减少上游压力
* 地图追踪和JS脚本添加 README.md 的详情展示

## 底层改造
* OCR平台改造。移除 PaddleSharp ，使用 ONNX 直接进行推理，支持更多推理环境 #1459 @Takaranoao 
* 截图器优化。 #1480 #1573 @shatyuka 
    * 提升BitBlt 效率，优化 Dwm 截图
    * BitBlt 支持多显示器窗口跨屏
    * DWM 不捕获最小化窗口
    * WGC 优化窗口大小检测优化
    * “选择捕获窗口”优化，置顶原神等
* 使用 Image<Rgb24>替换 Bitmap，减少 YOLO 推理时图像格式转换带来的损失 #1563 @shatyuka

## 其他优化
* 自动拾取黑名单添加条目 #1545
* 安装器优化与集成 @xytoki
* 添加 Mirror 酱 更新渠道，主程序更新推送支持灰度更新
* 修复更新窗口色差以及白边的问题
* 修复暂停后恢复异常bug，调度器设置增加周期配置，执行调度器任务增加继续执行功能 @mfkvfhpdx
* 支持在命令行启动一条龙参数时选择配置，配置找不到就用界面指定的 #1586 @zzc-tongji
* 修复bark notification group和sound配置不生效的问题 #1605  @stiffme
* 修复自动秘境的文案错误 @Qian23333
* 使用TorchSharp重写自动钓鱼的抛竿算法（未启用） @FishmanTheMurloc
* 修复AutoPathing下的非顶层文件夹不显示图标的问题  #1665 @Patrick-Ze
* 延长塞西莉亚苗圃的行走时间 #1620


🌩️ [Github 下载太慢？ 点我访问更多更新渠道](https://bettergi.com/download.html)


```

---

## 0.45.1 支持层岩巨渊、渊下宫

**版本:** `0.45.1`
**发布时间:** 2025/5/10 21:52:05
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.45.1)

### 更新内容

```
## 截图器
* **修复 0xc0000005 闪退问题** @Takaranoao
* 修复WGC关闭时候报错 #1419

## 自动拾取
- **拾取列表已满时候，滑动滚轮（注意这个变更会会导致拾取变成从下往上拾取，对于尘歌壶收菜有一定影响）**
- 修复拾取过程中文字识别错误 (#1496) @shatyuka
- 支持配置使用G键进行自动拾取 (#1502) @Patrick-Ze

## JS脚本
- 全局方法暴露鼠标滚动操作verticalScroll (#1450) @breadgrocery
- 修复 JS 脚本内 log.debug 在 bettergi 覆盖层显示的日志级别不正确的问题 #1452
- 添加异步目录读取 (#1472) @Hijiwos
- 修复创建配置组添加js脚本后，首次编辑js脚本自定义配置时，组件无法正确绑定到setting.json中的默认值 (#1449) @breadgrocery
- 调用切换队伍方法后，清除队伍缓存

## 一条龙
- 延长合成树脂的等待时间 #1432
- **一条龙支持增加配置组** @kaedelcb
- 一条龙内的自动秘境支持每周7天单独配置 @kaedelcb
- **新增自动前往领取尘歌壶奖励 (#1506)**  @iris10086

## 地图追踪
- 修复飞行过程中CPU飙升的问题
- 修复4号位地图追踪时不切人的放技能的问题
- **地图特征使用二进制文件存储，减小文件体积，大幅提升特征数据加载速度** @shatyuka
- 为凌晨4点领取月卡的逻辑添加了更多触发点 @mfkvfhpdx
- 打开地图时判断是否存在探索奖励，并自动领取（需要在设置中打开） @mfkvfhpdx 
- 战斗后拾取逻辑小优化 @Scarlet1ssimo 
- 识别选择队伍后队伍切换成功的场景，减少因为切换时间过长而引发的队伍切换失败的问题 #1457
- 修复高DPI下TP地图往复移动的问题 (#1469) @shatyuka
- 挖矿 action 支持大剑角色 @MisakaAldrich
- 更高效的四叶印 action (#1497)  @physligl
- 新增设置时间的 action @physligl
- 优化TP相关的配置展示 @physligl
- **新增支持独立地图层岩巨渊、渊下宫，录制编辑器和追踪地图查看同步支持**
- 如果首个点是非TP点位，强制设置在这个点位附近优先做局部匹配，提升匹配速度

## 其他优化
- 优化新版本更新日志窗口的背景显示(未完全解决) (#1413) @richex-cn
- 添加OneBot通知 (#1418) @Qian23333
- 修复自动秘境超时的时候重试
- 遮罩窗口UI优化支持缩放，日志窗口添加阴影 (#1477、#1478)  @shatyuka
- 修复快速传送（手动触发）后自动拾取失效的问题 #1130
- 自动剧情关闭弹出页前判断是否是大地图的弹出页面，以防误识别 #1466
- 发送通知时，添加延迟让图片先发送，时间戳与事件之间添加换行 @MisakaAldrich
- 修复提示框内容过长时，对话框无法完整显示的问题 (#1513) @breadgrocery
- 优化一些报错和日志提示
- 支持5.6新角色的识别
- 修复一个UI上数据绑定的问题 @FishmanTheMurloc


🌩️ [Github 下载太慢？ 点我访问更多更新渠道](https://bettergi.com/download.html)


```

---

## 0.44.4 圣遗物分解

**版本:** `0.44.4`
**发布时间:** 2025/4/6 23:41:15
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.44.4)

### 更新内容

```
* 修复手动设置cd不生效和快速跳过战斗时有时会导致刷屏的问题(#1410) @Takaranoao
* 优化BitBlt截图逻辑，增加失败重试机制以提高截图成功率 (#1407) @Takaranoao
* 添加可以按照正则分解五星圣遗物的 (#1383) @FishmanTheMurloc
* JS 脚本新增文件写入、输入文字的能力
* 修复 关闭截图器，切换分辨率，开启截图器后遮罩窗口位置不正常 的问题

```

---

## 0.44.3 稳定性优化

**版本:** `0.44.3`
**发布时间:** 2025/4/5 19:17:27
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.44.3)

### 更新内容

```
* 依赖库OpenCvSharp4、PaddleOCR版本更新 @Takaranoao
* 修复 BitBlt 会崩溃的问题，以及 BitBlt 性能的极致优化 @Takaranoao
* WGC帧率控制
* WGC反复启停优化 @FishmanTheMurloc
* JS脚本能力添加 @physligl
    * 大地图操作
    * 发送通知
* 修复左Ctrl名称错误 #1398 @kndxhz
* 优化技能冷却处理逻辑 #1321 @Takaranoao
* 修复地图追踪时其他界面关闭后没有延时，以及大地图界面不应该被关闭的问题
* 修复树脂不足提示检测 #1385

```

---

## 0.44 原神5.5适配

**版本:** `0.44`
**发布时间:** 2025/4/1 08:46:42
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.44)

### 更新内容

```
> [!CAUTION]
> 由于本次更新修改了底层截图器与任务调度，这并不是一个稳定的版本，请谨慎选择更新！

## 截图器
- **重构所有截图器的返回类型，减少一次内存拷贝，降低CPU消耗。**
- 删除WGC的缓存模式选项，使用读写锁保证WGC的有序转换与返回。（也就是说本次更新后，WGC截图方式也能正常使用地图追踪等功能）
- 删除实时任务和独立任务关于截图器占用的冗余逻辑

## 5.5 适配
- 使用新的游戏退出判断，影响自动伐木，部分JS脚本等 @physligl 
- 5.5 新地图添加，传送点未添加，但添加了新秘境
- 5.5 新角色数据
- 5.5 新七圣卡牌数据

## 本地化
**支持更多的游戏语言** @FishmanTheMurloc 

## 自动秘境
- 一条龙未选择要刷的秘境时，直接提示
- 修复4K分辨率下秘境无法自动点击掉地脉异常的提示内容的问题 #460
- 体力不足时，放弃继续进行自动秘境 #1008 #1134
- 秘境走到最后领取奖励超时将会��动重试秘境 #1083 #1202 #1270 

## 全自动
- 地图追踪新增重新登陆的Action @physligl 
- JS添加实时任务,不会清理之前的任务 @Takaranoao #1320 
- 新增 genshin.relogin 可以重新登陆原神
- 调度器的 Shell 功能支持更多配置 @Takaranoao
- 日志分析页面修改与美化 @physligl 
- 修复换队时爬七天神像导致换队失败的问题 @physligl 
- 增加对WaypointForTrack的DisablePickupAround属性支持，可以关闭挖矿动作的周围拾取 @Takaranoao #1322
- 小改正则表达以支持JS脚本统计 @MisakaAldrich #1274
- 优化一条路合成树脂时候容易失败的问题

## 通知
-  **新增 邮箱、Bark、xxtui、tg、钉钉、websocket 通知** @DR-lin-eng @wy3057 
- 飞书通知时带有图片(需要配置app,并且在飞书后台增加上传图片权限) @niuhuan

## 其他
- 新增关于页
- 迁移按键绑定页面到设置中
- 自动钓鱼恢复 16:9 的支持，**与一些钓鱼功能的优化** @FishmanTheMurloc 
- 一些UI界面上的变化
- wpfui 更新至 4.0 (表层没啥变化，但是ui框架底层变动)
- 修复自动拾取按文档指引改键无效 @Takaranoao #1262
- 修复自动秘境选择火本（无妄引咎密宫）后，无法正确进入秘境的问题 #1345

```

---

## 0.43.1 修复内存溢出

**版本:** `0.43.1`
**发布时间:** 2025/3/13 00:01:57
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.43.1)

### 更新内容

```
* **修复全自动钓鱼导致机器内存占满的问题** @FishmanTheMurloc 
* 修复自定义拾取按键不生效的问题 #1262 @Takaranoao
* 修复地图追踪中的 up_down_grab_leaf 四叶印 action 不生效的问题
* 修复调度器任务完成时候异常抛出错误的问题（但是不影响使用）
```

---

## 0.43 支持纳塔鱼类

**版本:** `0.43`
**发布时间:** 2025/3/9 23:31:59
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.43)

### 更新内容

```
## **全自动钓鱼** 

#### ❤感谢 @FishmanTheMurloc 重构了自动钓鱼模块并添加了大量功能！

* 支持**纳塔**鱼类的识别
* 将全自动钓鱼拆分至独立任务，且能够被地图追踪、JS脚本调用
* 全自动钓鱼支持自动切换日夜的时间
* 针对假龙的自动抛竿进行优化

## 一条龙
* 添加检查每日是否完成的通知
* 添加结束后操作（关闭游戏、关机）等

## 调度器
* 调度器清空所有任务添加询问提示
* 新增shell类型的任务可供添加（**请不要执行看不懂的命令**）#1248 @Takaranoao

## 地图追踪
* 地图追踪中当前配队无法满足简易策略脚本时，日志提示所需角色
* 地图追踪中异常场景处理添加 遇到 x 按钮时候 按下ESC返回主界面
* 更多七天神像回血相关的配置 @physligl
* 自动战斗后、传送前都会释放所有按键，尝试解决TP神像后持续往前走的问题
* 修复火元素采集不生效的问题
* 优化自动传送的稳定性 @physligl

## 其他优化
* 修复保存键鼠脚本时丢失最后一个MacroEvent的问题 @Ayu0K #1178
* 全局自定义按键映射支持（脚本、策略等） @Ayu0K
* 添加强制保持游戏窗口焦点的设置 @mfkvfhpdx
* 添加使用Starward记录游戏时间的功能 @kndxhz #1164
* 企业微信通知添加图片输出 @MisakaAldrich
* 5.4新角色的识别支持
* 修复部分功能键位无法作为改键的问题 #1131
* 文案与UI优化
* 添加了首次运行的界面，只会出现一次
```

---

## 0.42 地图传送修复

**版本:** `0.42`
**发布时间:** 2025/2/13 00:52:20
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.42)

### 更新内容

```
* **修复 5.4 版本地图UI变动导致传送失效的问题** @Scarlet1ssimo 
* TP时扩展右上角的不可点击区域，适配新地图UI
* **修复启动调度器时完全卡死的问题（只会在独占全屏时出现）**
* **修复通知导致的截图失败报错提示**
* 使 JS脚本 中的 keyDown(), keyUp(), keyPress() 方法 和 战斗策略脚本 中的 keydown(), keyup(), keypress() 方法 可以直接使用 虚拟键代码 来执行 鼠标操作 #1124 @2696791698
* 5.4 七圣召唤卡牌元数据更新 @haokaiyang
```

---

## 0.41 通知功能

**版本:** `0.41`
**发布时间:** 2025/2/7 22:29:31
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.41)

### 更新内容

```
## 通知功能 
* 重构 @Scarlet1ssimo 
* 新增windows通知、飞书通知
* 新增企业微信通知 @MisakaAldrich 

通知文档：https://bettergi.com/dev/webhook.html

## 脚本仓库
* 更换了仓库地址
* 在设置页面新增了手动导入仓库的方式
* 无法更新仓库时，仍能够访问本地已有仓库内容

## 路径追踪
* 修复地图追踪任务无法直接在地图追踪页右键执行的问题
* 修复秘境死亡时候无法传送到七天神像的问题
* 修改了路径追踪中战斗结束的判定点 @Scarlet1ssimo
* 修复路径追踪 `combat_script` 不设置角色名称仍会切人的问题 #1100
* 新增路径追踪 `pyro_collect` 火元素采集的功能
* 新增路径点位 `orientation` 用于控制人物朝向 @Yang-z 
* 路径追踪中自动跳过剧情的配置为强制跳过
* 修复地图传送在高dpi设置显示器下拖动距离过远的问题

## 其他
* win10不再展示毛玻璃主题切换按钮
* 完成秘境后释放所有按键 #1073
* 修复 `bettergi://start/` 不生效的问题（胡桃工具箱联动启动失效问题）
* 在程序安装到C盘且情况下，自动添加 Everyone 权限，修复脚本仓库报错 “Microsoft Edge 无法读取和写入其数据目录” 的问题 @Scighost
* 启动时校验亮度、镜头灵敏度配置，非默认直接打印警告日志
* 启动时校验微星小飞机，并打印相应警告日志
* 修复脚本订阅和配置组运行的提示框在高DPI显示屏下跑到屏幕外的问题
* 修复切换队伍时，第五个队伍无法被选中的问题
* 优化一条龙领取奖励时，橙色选项的识别率
* 修改所有自动战斗的键鼠模拟方式，尝试修复自动战斗原地不动的问题
* 部分UI改造，部分文案修正
```

---

## 0.40 功能优化

**版本:** `0.40`
**发布时间:** 2025/1/26 22:19:14
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.40)

### 更新内容

```
**这次更新新增了新版本的安装程序与自动更新程序（自动更新程序下版本才会有用）。**

**📥在线安装版【推荐】：[BetterGI.OnlineInst.exe](https://77.cocogoat.cn/dfs/bgi/BetterGI.OnlineInst.exe)**
**📥离线安装版：[BetterGI.Install.exe](https://77.cocogoat.cn/dfs/bgi/BetterGI.Install.exe)**

* 感谢 @xyToki 提供的自动更新程序与服务，项目 [kachina-installer](https://github.com/YuehaiTeam/kachina-installer) ！
* 感谢 @Womsxd 提供的额外流量节点！
* 感谢 @qhy040404 编写的 Github Action！

![72a520b00cd20aa4a33d8831c1403fce](https://github.com/user-attachments/assets/831ead1f-a905-44f3-b015-75e7a2e31634)


> [!CAUTION]
> 注意在安装了 0.40.0 及更高版本的安装程序后，0.39.1 以及更低版本的安装程序（BetterGI_Setup_v*.exe）未来将会无法覆盖安装。如果要降低版本请使用便携版本（BetterGI_v*.7z）！

## 一条龙
* 把领取历练点任务改��在了领取奖励模块（在切换好感队之后） #955
* 修复枫丹台成台成女角色容易跑过头的问题
* **修复一条龙期间切换到其他界面会卡顿的问题**
* 在未识别到配队选择页面时重试
* 新增命令行： `.\BetterGI.exe startOneDragon`，支持在软件启动后直接启动一条龙 #998

## 路径追踪
* 路径追踪 action为 fight 的点位强制执行成 path 类型
* 路径追踪中战斗策略日志打印修改，以防和自动战斗混淆
* 下落攻击触发的时候不再接近目标点
* 新增 `dash` action 连续冲刺跑路
* 添加 `log_output` 的 action 用于在指定点输出日志
* **优化了自动拾取掉落物的逻辑** @Scarlet1ssimo

### 传送相关 @physligl
* 修复传送中地图移动的问题 
* 优化了影向山和太山府附近点错传送锚点的问题
* 优化了传送到七天神像回血的体验
* 新增了大地图传送相关的设置页

### 锄地相关 @mfkvfhpdx
* 新增日志分析、锄地分析功能，可以统计物品获取，执行时长等 
* 锄地相关内容功能性优化

## 其他优化
* 修复自动秘境在原神重启后不按w（或者冲刺一下不动���的问题
* 领取历练点任务放在领取奖励的步骤中，并优化点击次数 #955
* 独立任务一自动秘境下的目标秘境可以不选
* 触发器时间间隔禁止配置为0
* 修复战斗策略部分校验提示不生效的问题 #988
* 修复windows10 1909版本使用WGC会报错的问题 @masm611 #954
* 更多傻瓜化日志提示
    * 自动战斗、秘境、队伍识别强制校验 16:9 分辨率
    * 键鼠模拟被拦截提示修改为中文
    * 战斗策略不存在则引导用户前往对应菜单进行配罟
* **自动音游专辑支持所有难度都打满** #994 @atiasn
* 安装包改成单层文件夹 #976  @Womsxd
* **美化了部分窗口表现** #973  @chisato2233
* **部分功能支持原神自定义按键绑定** #956 @Ayu0K
* 修复 莱依拉、卡维 邀约中的错误选项 	#1043 #1044
* 启动独立任务时会自动启动截图器 #1048
* 快速传送支持纳塔的声望点
* 修复七圣召唤策略解析错误时，未正确抛出错误的问题
* 自动秘境中的战斗策略存在火神的情况下，战斗结束后自动切人 #1052
```

---

## 0.39 自动音游专辑

**版本:** `0.39`
**发布时间:** 2025/1/2 23:00:50
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.39)

### 更新内容

```
## 自动音游专辑

**在自动音游的基础上，新增自动专辑功能。在专辑界面下运行可以自动演奏完所有未领取完奖励的乐曲。**

可以帮助你快速完成成就。

![image](https://github.com/user-attachments/assets/e6e69637-f822-4db7-ab86-c7507d8456ba)


## 5.3 适配性更新

* 七圣召唤更新 @haokaiyang
* 支持新角色数据

## 其他优化

* 修复自动启动游戏后自动点击月卡
* 修复自动秘境部分秘境无法正常进入的问题
* 尝试修复自动秘境偶现的卡顿问题
* 部分UI以及日志输出的优化
* 恢复自动音游的快捷键
```

---

## 0.38 一条龙

**版本:** `0.38`
**发布时间:** 2024/12/30 00:17:27
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.38)

### 更新内容

```
## 一条龙

**新增了一条龙功能，一键完成日常，更多一条龙功能计划请查看 https://github.com/babalae/better-genshin-impact/issues/846**

![image](https://github.com/user-attachments/assets/63958440-919a-4131-8722-5d13308087a9)


当前提供的功能：
* 领取邮件
* 合成树脂（含历练点领取）
* 传送自动秘境
* 领取每日、探索奖励

点击启动一条龙的是后，如果截图器未自动启动会直接启动，且会等待到开门后开始执行一条龙。

由于通知功能未完善���**每日奖励可能存在未领取的情况**，暂不提供完成一条龙后关机的功能。

## 路径追踪

> [!IMPORTANT]
> **非常感谢 @Limint 贡献的新的相机视角识别算法，解决了路径追踪时视角晃动的问题**

**现在已经存在部分挖矿、锄地脚本，但相关功能有待优化。**

* 修复tp时候，屏蔽左上角区域位置不正确的问题（屏蔽了但没完全屏蔽）
* 新增在路径追踪期间使用小道具的功能
* 重写 `pick_around` 动作 @Limint
* 重构地图传送模块，解决部分场景下无法正常传送到目标的问题 @physligl 
    * 完善并修复传送点数据，补充了地区属性
* 完善自动战斗任务，添加了更多自定义参数，使自动锄地功能更加流畅 @mfkvfhpdx 
* 添加路径追踪暂停功能，可配置快捷键 @mfkvfhpdx 
* 优化路径追踪地图点位编辑器的功能（战斗策略管理、清空等） @mfkvfhpdx 
* 调度器配置组添加重命名、清空能功能 @mfkvfhpdx 
* 调度器添加地图路径追踪任务时候的ui优化，默认不展开，且添加筛选功能
* 修复调度器连续执行配置组时无法停止的问题
* 为脚本仓库新增了筛选功能 @YuHan1015

## 键鼠录制

* 提高键鼠录制的精度
* 修复Alt���不起效的问题
* 添加滚轮的录制

## JS 脚本
* 添加了更多[原神相关的基础方法](https://bgi.huiyadan.com/dev/js/genshin.html)

## 其他

* 补充自动拾取黑名单 @OPPO9008
* 修复了若干问题（太多了不想写了）
* 由于下版本会出现常驻音游活动，历史的自动音游功能也开放了
* 自动秘境功能存在角色死亡后，如果设置了目标秘境，则会自动传送回去继续自动秘境
* 自动秘境的转向功能完全基于bug正常运行，修复了这个问题
* 自动秘境默认设置为行走去开启秘境
* 重写自动开门的触发器，合并自动开门与领取月卡的配置
* 在自动战斗、自动七圣策略边上也添加了脚本仓库的访问按钮
* **修复了原神路径无法正确自动获取的问题**


```

---

## 0.37 原神 5.2 适配性更新

**版本:** `0.37`
**发布时间:** 2024/11/23 19:54:47
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.37)

### 更新内容

```
## 5.2 适配性更新

* 七圣召唤更新@haokaiyang
* 支持新角色数据
* 支持新地图数据
* Yap 模型更新 @Alex-Beng 

### 自动剧情

* **后台自动剧情模式不再会瞬移鼠标点击，直接使用5.2的F**，注意对话结束后鼠标仍会被吸附到游戏窗口内！

### 自动秘境

* 修复 5.2 更新后点击跳过会点到锁定功能的问题

## 全自动

* 联机情况下识别角色队伍时，修复错误识别房主的问题（会导致队伍识别出错） #777
* 修复脚本仓库订阅所有路径追踪脚本存在的一些问题
* JS脚本鼠标悬浮展示描述
* JS脚本在传入JS的 `settings` 对象为空时提示

### 路径追踪
* 凌晨4点时候自动点击领取月卡
* 进入对话中时会自动选择选项并退出。
* 修复路径追踪部分变量写死的问题
* 小于 1920x1080 的游戏分辨率使用路径追踪会触发提示
* 新增了一些 `action`，���体功效见文档 

## 其他

* UI 优化 @Lightczx 
```

---

## 0.36 路径追踪优化

**版本:** `0.36`
**发布时间:** 2024/11/4 21:49:13
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.36)

### 更新内容

```
## 全自动

### 调度器
* 添加配置组设置功能，可以配置路径追踪队伍切换、使用盾、回血角色等
* 添加连续执行的功能

### 脚本仓库
* 仓库订阅导入后会自动刷新界面
* 修复补充更新机制无法正常进入的问题
* 进入脚本仓库时自动获取最新仓库信息

### 自动传送
* 传送点未激活判定的情况下也会重试
* 滑动大地图结束后添加更多等待时间，保证地图处于静止状态
* 优化“太山府”、“鹰之门” 在传送中经常无法被识别到的问题

### 路径追踪
* 修复到目标点时不转动视角的问题
* 在识别到卡死时，新增更好的避障逻辑 & 优化寻路逻辑 #711 @jbcaaa 
* 新增 action，具体见[文档](https://bgi.huiyadan.com/feats/autos/pathing.html)
  * 水、雷、风元素力采集
  * 周边拾取 #721 @jbcaaa 
* 修复调度器不支持三级以上路径追踪目录的选择
* 针对 action 的角色需求进行校验，比如 纳西妲采集。
* 残血、死亡时自动传送至七天神像
* 恢复界面上单独执行任务的右键菜单
* 添加路线重试机制、卡死脱离3次后放弃当前路径进入重试、卡死脱离添加超时时间
* 新增路径追踪的队伍切换与角色使用的条件设置。

## 优化
* 修复后台自动剧情启用的情况下，自动领取探索奖励失效的问题
* **队伍识别支持联机情况下的识别**
* 重新训练了头像分类器，使其支持角色头像处于半透明情况下的识别（攀爬、跳跃的时候右侧头像会变半透明，切人带数字的情况仍不支持）
* 修复后台自动剧情启用的情况下，自动领取探索奖励失效的问题
* 界面UI��新
* **Win11启动软件后自动关闭游戏窗口化优化，以支持BitBlt！**
* 一键进出尘歌壶，增加对多人联机下进入尘歌壶的支持 @FannieMC


```

---

## 0.35 脚本仓库

**版本:** `0.35`
**发布时间:** 2024/10/14 01:23:29
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.35)

### 更新内容

```
BetterGI 距离第一个版本 0.10.0 的发布刚好已经过去了一年时间了，没想到能高强度开发一年，把 Github 的瓷砖都快刷全绿了。感谢各位开发者和群友们的帮助！

![73c1caf286ba3a866b2df2122d34498d](https://github.com/user-attachments/assets/bc08f288-2f60-492c-92b6-22e3e3163065)


## 独立任务
* 重构底层调度逻辑，使其方法能够对外调用
* **<kbd>F11</kbd> 关闭截图器的时候也会同时关闭所有独立任务** #388  #660
* 自动秘境支持红血时自动按 <kbd>z</kbd> 嗑药 #649 @iris10086
* 添加了启停按钮控件 @qhy040404 


## 全自动

**添加了脚本仓库，在线版 [https://bgi.sh/](https://bgi.sh/) （感谢 @DR-lin-eng 友情提供的域名），BetterGI本地也内嵌了相同的网页。**

**感谢脚本作者们制作的大量采集路线！**

### 综合
* 修复调度器存储配置组的路径是绝对路径的问题
* JS脚本、路径追踪添加刷新的右键菜单 #627
* TP时，当前地图位置识别失败的情况下，会直接通过国家位置进行大地图定位
* TP失败时加入重试机制
* TP支持识别未激活传送点或者无传送点的位置
* 补充遗漏传送点坐标  #603 #586 @HZYgrandma
* 收缩传送区域（左上角也会不点击），防止点击到大地图周边的控件 #604

### JS脚本
* 添加实时任务相关配置
* 添加独立任务的调用能力
* **新增传送并执行自动秘境的脚本**
* 配合脚本仓库的功能，移动了存���目录
* 新增了更多开放API, 具体使用方式见[文档](https://bgi.huiyadan.com/autos/jsscript.html)

### 路径追踪
* 更新保存路径文件的命名格式 #600
* **添加地图路径点位编辑器**
* 修复局部特征匹配在每次地图追踪的时候没有重置的问题 #619
* 路径记录器添加关闭日志 #631
* 路径追踪添加强制以配置点位传送的能力 #630
* 路径追踪支持战斗action #658 @iris10086
* ~~战斗action支持识别战斗结束（模型还在炼制）~~
* 路径追踪支持纳西达收集action
* 优化路径追踪 @gqzcl 
* **路径追踪不再自动冲刺**

## 优化与改动

* 修复了角色在自动秘境结束战斗时，若朝向正西方则无法自动转向古树的问题。 #608
* 修复伐木上限配置无法突破2000的问题（荒泷一斗被动可以突破这个值）。 #606
* 遮罩窗口中添加日志文件夹的快捷访问入口 #632
* 启动页的启动参数，添加文档的跳转 @emako 
* 添加了一些默认拾取黑名单
* 界面UI优化 @emako ，重写了快捷键页面
* 5.1 相关配置适配性更新

```

---

## 0.34 自动采集

**版本:** `0.34`
**发布时间:** 2024/9/9 23:32:54
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.34)

### 更新内容

```
> [!Warning]
>  实验中、开发中功能后面可能会出现较大改动

## 新功能：自动采集

> [!IMPORTANT]
> **地图追踪功能**：自动传送到最近的锚点，然后根据小地图开始寻路。系统会根据任务文件的途径点和目标点进行导航。
> **当前已实现自动采集功能，核心功能由 @lwh9346 参考 https://github.com/tignioj/minimap 开发完成**
> **[minimap](https://github.com/tignioj/minimap) 是一个高精度原神自动采集工具，当然它的功能远不止这些，强烈推荐！！**

只支持最大的地表地图，不支持地底识别，也不支持渊下宫、层岩巨渊地底地图。由于自带了原��地图的全特征点文件，软件体积暴增。

## 新脚本： 自动跑狗粮

**自动调查离传送点较近的狗粮。请使用琳妮特前台，双风共鸣。并保证所有传送点都已经激活！**

由 @HZYgrandma 贡献，由于使用的是和自动晶蝶一样的自动传送+键鼠录制的方式，长距离可能无法精准到达点位。且由于键鼠录制不够稳定，出现无法正确拾取狗粮的情况属于正常情况。后续可能会通过地图追踪功能重写。

## 5.0 适配改动
* 更新Yap模型
* 自动拾取黑名单更新 #573 @rong-xiaoli
* 更新角色识别模型，支持艾梅莉埃、卡齐娜、玛拉妮、基尼奇的识别与���斗策略编写
* 七圣召唤卡牌元数据更新 @haokaiyang 

## 优化与改动
* 修复自动邀约班尼特、诺艾尔第二幕无法正确选择结局的问题 #581
* 修复自动剧情中部分功能开关无法正常生效的的问题
* 尝试修复使用一键尘歌壶会卡死的问题 #558
* 修复最近版本自动钓鱼无法正常工作的问题
* 关闭截图器（F11）也能够关闭部分自动任务了
* 自动剧情文本描述更新 #588
* 自动伐木：首次伐木就未识别到木材数据，会自动关闭OCR识别并累计木材数的功能
```

---

## 0.33 自动晶蝶

**版本:** `0.33`
**发布时间:** 2024/8/19 23:46:51
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.33)

### 更新内容

```
此版本新增了一些实验中功能，这些功能后续可能会进行大规模变动。

## 新增调度器与 Javascript 脚本

BetterGI 通过 [ClearScript](https://github.com/microsoft/ClearScript) 内置 V8 引擎，支持直接运行 Javascript 编写的脚本，并开放各类 BetterGI 的 API。由于初版 API 还未完全暴露完毕，暂不提供编写文档。

**自动晶蝶** 是内置的第一个脚本，调用了内部的大地图识别并传送的功能，然后执行键鼠脚本。

由于键鼠脚本分享时，不同电脑存在很多影响变量，**测试发现存在大量无法正确重放的情况**。

所以，**自动晶蝶脚本并不是所有人都能够正常运行！**

## 优化与改动

- 键鼠脚本的录制与回放从相对时间修改为绝对时间，大幅提高精度，减少卡顿，**但是不兼容 0.33 版本前的键鼠脚本** @lwh9346 
- 启动时检查是否有关键文件缺失，缺失时提示 #468 @qhy040404 
- 修复更新提示弹窗位置未适配高分屏DPI缩放 #446 @emako 
- code clean up  @qhy040404 @Lightczx 
- 修复了一些配置不生效的问题
- 优化内部地图匹配的代码
```

---

## 0.32 键鼠录制与重放

**版本:** `0.32`
**发布时间:** 2024/7/28 14:11:48
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.32)

### 更新内容

```
## 龙王转圈会卡？
请调整时间间隔，参考： https://github.com/babalae/better-genshin-impact/issues/489 ，新版本已经强制最小时间间隔为1ms

## 程序升级到 .NET 8
**[请下载 .NET 8 运行时](https://dotnet.microsoft.com/zh-cn/download/dotnet/latest/runtime)**

相关依赖包都进行了升级，wpfui也升级至了最新版

## 新增键鼠录制与重放

![image](https://github.com/user-attachments/assets/5ecd99d7-5b7b-4fbd-9bc8-7fc0dd7995b3)

1. **建议在游戏内配合快捷键使用**。
2. 录制时遇到��界面和其他界面的切换时，不要操作，需要等待程序识别这个切换过程
3. 尽量走平坦的路，每次碰撞都会出现不一样的结果
4. 录制的距离越长，误差会更大

分辨率比例相同的情况下，是可以互相分享并使用键鼠录制的脚本的。建议所有录制操作都在 16:9 的比例下完成

## 4.8 适配
* 4.8七圣召唤基础配置文件适配 @haokaiyang
* 自动拾取黑白名单添加
* Yap 识别模型更新至4.8 @Alex-Beng 
* 更新4.8基础角色信息

## 优化与改动
* ~~遮罩窗口采取新的实现方式，可以完全跟随原神窗口~~
* 新增展示游戏 FPS 的功能，可在设置内开启 @emako 
* **自动剧情更换识别标识图标** 现在用的这个图标：
![image](https://github.com/user-attachments/assets/570f05e5-b6d3-4edd-b062-02430809ad19)
* 七圣召唤新增新的卡组策略 `9.芙芙卡维鲸鱼.txt`，使用此策略的时候手牌请塞满3费卡，感谢群友 `繁星入梦` 编写的策略
* 自动伐木默认不再开启OCR识别木材数量的功能（部分木材100%识别失败） #444
* 自动剧情添加了随机点击选项的选择


```

---

## 0.31 支持GPU加速

**版本:** `0.31.0`
**发布时间:** 2024/6/8 10:09:37
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.31.0)

### 更新内容

```
**新增了使用 GPU 加速推理的功能，依赖于 DirectML （受所有 DirectX 12 兼容硬件的支持，无论你是N卡还是A卡、I卡）#421** 

ONNX推理相关的模型都可以切换：

* Yap 文字识别
* 钓鱼模型
* 角色分类模型
* 秘境古树模型

Paddle 文字识别暂时不能切换（测试切换后效果非常差）。图像推理相关的速度有大幅提升。

**感觉自动拾取有掉帧的朋友可以切换到GPU进行推理，然后自动拾取文字识别引擎选择 Yap，这样 CPU 占用会大幅降低。**
 
![image](https://github.com/babalae/better-genshin-impact/assets/15783049/f7f6085a-183d-4df3-a3fc-2ed5a635e003)


## 自动剧情与邀约
* 新增一种**后台点击模式**，开启时自动剧情和邀约可以在后台被点击。
	* **但是请注意游戏不能最小化，切在后台选择选项时候鼠标仍旧会移动！自动剧情结束后鼠标会被吸附回游戏中，请按<kbd>Alt</kbd>+<kbd>Tab</kbd>键切回到游戏**
	* 如果你想要纯粹的后台，请参考 https://github.com/babalae/better-genshin-impact/issues/122	
* 优化自动剧情OCR错误时，不点击选项的问题 https://github.com/babalae/better-genshin-impact/issues/422
* 自动邀约支持延时选择选项 #440 
* 自动邀约支持自动点击跳过按钮 #335

## 自动拾取
* 新增黑名单参数
* **自动拾取按键支持修改为 <kbd>E</kbd> #424** @Vinkle-hzt

## 4.7 适配性更新
* 七圣策略脚本支持 4.7 新角色卡 @haokaiyang 
* 自动战斗脚本支持 4.7 新角色

## 其他优化
* 新增“切换日志窗口显示”功能快捷键设置 #366
* 修复凯瑟琳每日自动领取委托/自动重新派遣关闭功能无效的问题 https://github.com/babalae/better-genshin-impact/issues/417
* 修复自动伐木OCR开启时，重复木头报错的问题
* 快捷键支持配置为 <kbd>Space</kbd>
* UI 界面使���新的图标 @emako
* 简化项目文件配置
* 使用 appveyor 进行持续集成 [![Build status](https://ci.appveyor.com/api/projects/status/cklcy1oj9u66ul4j)](https://ci.appveyor.com/project/huiyadanli/better-genshin-impact/build/artifacts)
```

---

## 0.30 自动烹饪

**版本:** `0.30.0`
**发布时间:** 2024/5/23 18:14:27
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.30.0)

### 更新内容

```
## 新功能
**新增了自动烹饪的功能，在实时任务中开启（不用的时候请关闭，比较消耗性能）** #266

## 自动伐木
* OCR识别并统计伐木数量，加入限制伐木总量配置 @atiasn
![image](https://github.com/babalae/better-genshin-impact/assets/15783049/ca02c079-4178-48a6-805f-9c8d3d7227ee)
* 解决自动伐木在木材已满的情况下，按下ESC会消除木材已满的提示的问题 #235
* 自动伐木功能会保持电脑屏幕不自动息屏

## 其他优化
* **修复非16:9屏幕在 0.29 版本新出现的问题：无法正常使用部分功能、遮罩识别框位置不正确**
* **修复了遮罩窗口UID遮盖和东南西北显示不正确的问题（0.30.1版本）**
* **WindowsGraphicsCapture 在 Windows 10 version 1903 以下版本中（不含）不再展示（因为系统不支持）** #394
* 修复在自动战斗开始后，一键宏无法正常识别的问题 #396
* 修复自动钓鱼在5个鱼饵情况下，鱼饵无法正确选中的问题 #399
* 更换UI默认字体为 MiSans @emako
* 彻底移除 H.InputSimulator #154 @emako
* 修复了自动七圣召唤白术卡组名称不正确的问题
* 新增了一个群友分享的仆人纯火自动战斗策略

```

---

## 0.29 活动音游

**版本:** `0.29.0`
**发布时间:** 2024/5/9 23:51:09
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.29.0)

### 更新内容

```
## 活动音游

**识别思路来��群友 `@益蜘蛛` ，实现方法参考了另一位群友@DR-lin-eng编写的自动音游程序： https://github.com/DR-lin-eng/genshin-auto-music**

新增自动完成活动音游的独立任务，支持16:9的游戏大小，支持2倍速。**下落模式必须选择“垂落模式”**。建议配合快捷键使用。

**如果期望全连建议选择胡桃主题“疏影引蝶映梅红”，背景效果调整为1**

如果你平时使用BitBlt截图模式无法正常使用BetterGI，且自动活动音游功能也无法使用，可以尝试此方法： https://github.com/babalae/better-genshin-impact/issues/92

![image](https://github.com/babalae/better-genshin-impact/assets/15783049/eebdab6c-3af0-453e-838f-71599fb69c6b)


部分样式的曲目可以达到 100% 完成率（2倍速也可以）

![image](https://github.com/babalae/better-genshin-impact/assets/15783049/921a63e5-3e9b-488c-8906-7d8efca98fc6)



## 功能支持更多分辨率

为了实现 #95 做了底层重构，主要是为了在原来的基础上更好的支持高于1080P的分辨率，比如2k、4k。提高其处理性能。

**此改动过大，未完整进行测试，如果出现部分功能不可用的情况，请提 Issue 告诉我。**

当前分辨率支持情况如下：

| 功能         | 支��分辨率          |
| ---------- | -------------- |
| 自动拾取       | 全16:9          |
| 自动剧情       | 全16:9          |
| 自动邀约       | 全16:9          |
| 快速传送       | 全16:9          |
| 自动钓鱼  <br> | 全16:9          |
| 自动伐木       | 全16:9          |
| 自动战斗/秘境    | 16:9（自动秘境不能小于1080P） |
| 自动七圣召唤     | 只支持1080P       |
| 一键宏  <br>  | 全16:9          |
| 快速圣遗物强化    | 全16:9          |
| 一键购买       | 全16:9          |
| 一键进出尘歌壶    | 全16:9          |
| 快捷点击确认/取消  | 全16:9          |

#### 如果在游戏大小为2K、4K且截图方式为`WindowsGraphicsCapture`的情况下，出现卡顿、鼠标移动缓慢等问题， 参考：https://github.com/babalae/better-genshin-impact/issues/286 关闭位图缓存。或者直接切换截图方式为`BitBlt`，Win11 `BitBlt`不能用？参考设置：https://github.com/babalae/better-genshin-impact/issues/92

## 自动拾取新增OCR引擎

为了解决自动拾取的高占用，新增了一个OCR识别引擎，识别速度稍慢但是占有低，并作为默认选项。解决此类卡顿问题：#383

并且出现新增活动词汇也不会出现频繁识别变化的问题

## 其他
更新了一些默认配置文件，拾取黑名单、邀约分支设置等

```

---

## 0.28 邀约分支

**版本:** `0.28.0`
**发布时间:** 2024/5/3 00:24:10
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.28.0)

### 更新内容

```
> [!IMPORTANT]
>  2.8 问题修复 20240505 更新：
> * 邀约分支修复了 **珐露珊、五郎、凝光、重云、鹿野院平藏** 分支不正确的问题，需要手动覆盖配置文件起效
> * 战斗脚本使用角色官方名称 **“阿蕾奇诺”无法正常解析** 的问题，可以使用别名“仆人”替代，或者手动覆盖相关配置文件
>
> **如何更新邀约配置和角色配置��以参考 #386 的教程。**

## 自动剧情/邀约
* 自动邀约添加分支选择功能，感谢@wy3057与群友`癫誑`整理的全邀约分支数据！
    * 人工整理数据难免有错漏，分支有问题请发[issue](https://github.com/babalae/better-genshin-impact/issues)并提供相关文案与截图，帮助我们纠正错误
* 修复自动邀约快捷键切换状态时，日志打印错误的问题#360 
* 选项识别范围缩小，解决误识别顶部的文字的问题
* 黑屏点击功能频率延迟至1.2s一次

## 一键宏
* `一键战斗宏` 改名为 `一键宏`，因为这个宏也不一定是用来战斗...
* 队伍识别失败时，沿用上一次识别成功的队伍。（算是解决了切换角色 1s CD 的时候，由于头像虚化导致队伍无法识别的问题）
* 配置修改后立即生效

## 4.6 适应性更新
* 七圣召唤新卡牌数据（仅用于打牌脚本编写）@haokaiyang
* 新角色数据（仅用于战斗等脚本编写）#367
* 角色识别模型加入`仆人`的识别（用于一键宏、自动战斗/秘境功能中的队伍识别）

## 其他
* 修复重启截图器后素材不重新加载的问题（0.27版本新增的BUG，会导致切换分辨率后报错边界溢出）
* 修改游戏分辨率后自动重启截图器
* 在启动状态下，切换截图模式将会自动重启截图器

```

---

## 0.27 通知模块 & 一键战斗宏

**版本:** `0.27.0`
**发布时间:** 2024/4/20 12:47:24
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.27.0)

### 更新内容

```
久等了的一次更新，最近社畜有点忙

![ed9149f3db5048ae7702416009fd7b08](https://github.com/babalae/better-genshin-impact/assets/15783049/1217905c-ef66-454a-9576-2f29a99d4601)


## 新功能
* **新增通知模块** @Mr-Quin 

## 操控辅助
* **一键战斗宏，按下后会识别当前出战角色，并根据配置执行对应的宏，比如：皇女滑步弓、胡桃A重跳**
    * 暂不��持联机环境，切人cd时识别率会很差
    * 有兴趣可以在交流群联系我贡献更多的宏 https://docs.qq.com/sheet/DTGZqVVhkZk5SWEtn?tab=000001
* 一键进出尘歌壶 #340 @Mr-Quin 
* 一键确认/取消 #170 

## 自动战斗/秘境
* **大幅优化在自动战斗/秘境中队伍角色的识别成功率，在头像未处于半透明情况下识别率非常高（使用新训练的分类器替代原有的OCR方案）**
* 自动战斗/秘境支持自动选择合适的策略，无需手动切换策略

## 自动剧情
* 自动交付物品支持多物品
* 添加更多NPC的对话选项排除（暂停选择） #350 @snouker
* 添加不自动选择选项的功能选项 #350 

## UI/UX优化
* 在遮盖窗口中添加状态指示 #319 #67 @Mr-Quin 
![image](https://github.com/babalae/better-genshin-impact/assets/15783049/d27d5ce5-a9fd-4138-9b2e-8e7ba174c732)
* 启动软件时自动获取焦点 #325 @Mr-Quin 
* 通用设置里增加“退出时最小化到托盘”选项 #324 @Mr-Quin 

## 其他优化
* Yap 自动拾取模型更新
* 修复原神启动时，`config.ini` 不生效的问题（用了官B切换工具，但使用BetterGI启动时永远是官服）
* 优化了内部模板匹配方法，使之支持所有模板匹配算法
* 内部代码结构优化 @Lightczx 

```

---

## 0.26 自动邀约与全新抛竿算法

**版本:** `0.26.0`
**发布时间:** 2024/3/16 16:05:12
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.26.0)

### 更新内容

```
**新增自动邀约的选项自动选择功能，暂无分支选择能力。**

**自动钓鱼使用了全新的抛竿算法，抛竿终于没那么智障了。**
**感谢来自 [HutaoFisher](https://github.com/myHuTao-qwq/HutaoFisher) 优秀抛竿算法与高质量数据集 @myHuTao-qwq**

##### 如果有时间和兴趣协助训练识别模型的，欢迎加入炼丹群：[863012276](http://qm.qq.com/cgi-bin/qm/qr?_wv=1027&k=YOyOxUzXKquJyUuO2z0W1Lrh4iX9ROme&authKey=tckwvC5AC4BuEAKOdxVPr8QsXR1AqwQuzIUiswo9JT%2FpnPniRCoyoEY6IGkljdAo&noverify=0&group_code=863012276)



## 自动钓鱼
- 重新训练了识别模型、使用了新的抛竿算法。**请在 `16:9` 的游戏分辨率下使用抛竿功能**
- 删除了部分无用的老代码

## 独立任务
- 自动战斗、自动七圣召唤脚本下拉框动态刷新 #268 @Mr-Quin
- 自动秘境指定轮数完成后，退出副本
- 所有独立任务都新增不可重入的互斥锁，同一时间只能存在一个独立任务正在运行 #304
- 自动伐木内存回收优化 #311
- 自动七圣召唤更新 4.5 角色卡数据（仅和策略编辑有关）@haokaiyang

## 其他优化
- 修复操控辅助页上卡片重复展示的问题
- 修复自动钓鱼在关闭的时��无法立即停止控制鼠标行为的问题 @qiuyue0
- 自动开门不再强制移动鼠标，仅做点击处理
- 游戏结束后，启动页自动停止 #271 @Mr-Quin
- 修复游戏安装路径中分隔符不统一的问题 #293 @Mr-Quin
- 启动页的代码质量优化 #296 @qhy040404
- 添加最小化至托盘的功能 #109 @Mr-Quin
- 自动拾取黑白名单使用内置的JSON编辑器打开 #245 @emako 
- ~~WPF-UI 更新至 3.0 正式版~~


```

---

## 0.25 支持枫丹、须弥鱼类

**版本:** `0.25.0`
**发布时间:** 2024/3/2 20:46:38
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.25.0)

### 更新内容

```
**新增在联动启动原神后自动开门 #220  、自动领月卡 #237 的功能**

## 自动钓鱼
* 全自动钓鱼已支持枫丹、须弥鱼类，感谢 @Mikachu2333 @vulkanparagon 的协助打标（自动抛竿后续会继续重构）
* 修复“赤糜饵 经常无法��中的问题 #96 

## 其他优化
* **转圈圈功能取消内部延时，并把参数作为可配置项**
* 修复原神窗体最小化并还原的时候，频繁出现窗口大小变化的警告
* 0.24 版本 WindowsGraphicsCapture 截图方式的优化作为可配置项，如果有掉帧情况，可以尝试在“启动”页关闭此优化功能
* 重构了部分脏代码 @emako 
* 策略支持按子文件夹显示，并把群友分享的策略内置到了软件内
* 修复自动剧情在括号、省略号场景下，无法正确找到点击位置的问题。
```

---

## 0.24 巨量优化

**版本:** `0.24.0`
**发布时间:** 2024/2/10 16:49:20
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.24.0)

### 更新内容

```
各位新年好！大年初一带来了 BetterGI 的大量功能优化

<img src="https://github.com/babalae/better-genshin-impact/assets/15783049/edf1bdb9-8fd4-4c85-95bf-67aa47850287" width="300"/>

## 快捷键
- 快捷键新增键鼠监听模式，**支持任意键盘单键、鼠标侧键（XButton1、XButton2）**，不支持组合键，在更好的原神启动后才生效。#6  #45 #123 #228
    - 全局热键：只支持组合键和功能键，软件启动直接生效。
    - 键鼠监听：支持任意键盘单键、鼠标侧键，功能启动后才生效（推荐）。注意鼠标的标准是只有两个侧键的，其余侧键请自行用鼠标驱动映射按键。不建议继续在此种方式下使用F开头的功能键，会和原神的快捷键冲突。不支持组合键。
    - 点击类型按钮可以切换快捷键类型。**其中存在长按需求的功能不能使用全局热键**。
- **在键鼠监听模式下，长按快捷键再也不会停不下来了，龙王转圈也不会出现卡顿**

## 自动剧情
- 添加OCR支持，当然消耗的性能也更多了 #149，可在 `User\AutoSkip` 下的配置文件中配置 “默认暂停”、“直接暂停”、“优先选择” 的选项文字。后续会添加配置 UI 。 #186
- 自动剧情可以默认选择第一个选项了
- 黄色感叹号图标、黄色文字将会优先选择 #232
- 各类地图上带图标的NPC，比如铁匠、凯瑟琳、尘歌壶阿圆、声望等，自动剧情将不会跳过与他们的对话。
- **新增了自动提交物品的功能**。由于没有找到多个物品的测试场景，所以现在只支持一个物品。

> [!NOTE]
> 新的自动剧情选项点击优先级，从高到低：
> 1. 遇到黄色感叹号图标直接点击
> 2. 遇到气泡图标进行OCR，OCR不到任何内容时，会直接点击气泡图标。
> 3. 选项文字中包含任意 “优先选择” 配置（`\User\AutoSkip\select_options.json`）的内容，直接点击，推荐用户自己修改。
> 4. 选项文字中包含任意 “直接暂停” 配置（`\User\AutoSkip\pause_options.json`）的内容，直接不点击，不会再往下判断。这个配置存在的意义是配置存在橙色文字，但是不想自动点击的场景（比如：卡牌商店的内容）。不推荐用户自己修改，希望能通过issue提交给我。
> 5. 选项文字中存在橙色文字，直接点击（其中“每日委托”、“探索派遣”会触发特殊逻辑，请不要将这两个关键词加入到任何配置中）
> 6. 选项文字中包含任意 ��默认暂停” 配置（`\User\AutoSkip\default_pause_options.json`）的内容，直接不点击，不会再往下判断。不推荐用户自己修改，希望能通过issue提交给我。

## 快速传送
- 更加精准的快速传送，**在存在多个传送点的情况下会选择第一个传送点**，当然消耗的性能也增加了
- 新增按住快捷触发快速传送的方式 #127
- 新增了快速传送的开关快捷键 #229 

## 自动战斗与秘境
- 自动战斗，更新 4.4 的新增角色配置
- 背包已满的时候，终止自动秘境任务
- 修复石化古树识别框在高DPI情况下展示不正确的问题
- 延长启动时候等待获取截图的时间
- 新增小步伐行走的相关选项，给电脑性能较差的用户使用（表现为在古树面前左右来回跑）。
<img src="https://github.com/babalae/better-genshin-impact/assets/15783049/cc22f6ff-1b11-4208-a083-d57f906df911" width="700"/>

## 七圣召唤
- 新增更多大世界决斗对局“惊喜牌组”策略 @Womsxd 
- 4.4 牌组配置更新 @haokaiyang 

## 其他优化
- 自动拾取的模型与黑名单更新到 4.4 @Alex-Beng 
- 更友好的自动拾取黑白名单解析失败报错
- **新增了手动选择窗口启动更好的原神的入口**，如果原神已经启动��但是提示窗口找不到，请使用这个功能
- 未赋予管理员启动的情况下，提示需要管理员权限 #255
- 添加启动后自动更好的原神启动的启动参数 `bettergi://start` or `BetterGI.exe start` #152
- WindowsGraphicsCapture截图方式的优化，确保能够获取到最新图片，减少截图失败的报错
- 自动钓鱼，优化了钓鱼条选框初始化位置的选择
- **新增了快捷键按下游戏截图功能，方便素材收集和错误排查**
- 界面文案优化，banner更新
```

---

## 0.23.0

**版本:** `0.23.0`
**发布时间:** 2024/1/21 23:15:53
**GitHub页面:** [查看详情](https://github.com/babalae/better-genshin-impact/releases/tag/0.23.0)

### 更新内容

```
文档进行了大量修缮，添加了更加详细的 [快速上手](https://bgi.huiyadan.com/quickstart.html)，手把手教你使用 BetterGI

## 自动战斗与秘境
战斗
- 修复自动战斗切换出角色后，频繁发呆并发出切人的音效的问题

秘境：
- 修复反复关开自动秘境功能后，不会按F进入秘境的问题
- 修复自动战斗结束时，战斗任务被取消，部分行动按键按下后没有松开的问题
- 修复龙王队容易出现无法正常领取树脂的问题

## 自动剧情
- 自动领取『每日委托』奖励后关闭奖励结果界面 #230
- 修复在蒙德璃月的凯瑟琳不自动领取『每日委托』奖励的问题 #225

## 七圣召唤
- 添加默认角色定义 ，只要定义角色顺序就可以啦！ #217

```

---

